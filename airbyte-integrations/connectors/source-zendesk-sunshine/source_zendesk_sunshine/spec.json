{
  "documentationUrl": "https://docs.airbyte.io/integrations/sources/zendesk_sunshine",
  "connectionSpecification": {
    "$schema":  "http://json-schema.org/draft-07/schema#",
    "title": "Zendesk Sunshine Spec",
    "type": "object",
    "required": [
      "email",
      "start_date",
      "subdomain"
    ],
     "oneOf": [
      {
        "required": [
          "credentials"
        ]
      },
      {
        "required": [
          "api_token"
        ]
      }
    ],
    "additionalProperties": false,
    "properties": {
      "api_token": {
        "type": "string",
        "airbyte_secret": true,
        "deprecated": true,
        "description": "API Token for backward compatibility. See the <a href=\"https://docs.airbyte.io/integrations/sources/zendesk_sunshine\">docs</a> for information on how to generate this key."
      },
      "credentials": {
        "type": "object",
        "oneOf": [
          {
            "type": "object",
            "title": "Authenticate via Zendesk (Oauth)",
            "required": ["access_token"],
            "properties": {
              "option_title": {
                "type": "string",
                "title": "Credentials title",
                "description": "OAuth Credentials",
                "const": "OAuth Credentials"
              },
              "access_token": {
                "type": "string",
                "title": "Access Token",
                "description": "Oauth access token",
                "airbyte_secret": true
              }
            },
            "additionalProperties": false
          },
          {
            "type": "object",
            "title": "Authenticate with API Token",
            "required": ["api_token"],
            "properties": {
              "option_title": {
                "type": "string",
                "title": "Credentials title",
                "description": "API Token",
                "const": "API Token"
              },
              "personal_access_token": {
                "type": "string",
                "title": "Api Token",
                "description": "API Token. See the <a href=\"https://docs.airbyte.io/integrations/sources/zendesk_sunshine\">docs</a> for information on how to generate this key.",
                "airbyte_secret": true
              }
            },
            "additionalProperties": false
          }
        ]
      },
      "email": {
        "type": "string",
        "description": "The user email for your Zendesk account"
      },
      "subdomain": {
        "type": "string",
        "description": "The subdomain for your Zendesk Account"
      },
      "start_date": {
        "title": "Start Date",
        "type": "string",
        "description": "The date from which you'd like to replicate the data",
        "format": "date-time",
        "examples": [
          "2021-01-01T00:00:00.000000Z"
        ]
      }
    }
  },
  "authSpecification": {
    "auth_type": "oauth2.0",
    "oauth2Specification": {
      "rootObject": ["credentials", 0],
      "oauthFlowOutputParameters": [["access_token"]],
      "oauthFlowInitParameters": [[]]
    }
  }
}
