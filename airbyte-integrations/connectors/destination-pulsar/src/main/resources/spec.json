{
  "documentationUrl": "https://docs.airbyte.io/integrations/destinations/pulsar",
  "supportsIncremental": true,
  "supportsNormalization": false,
  "supportsDBT": false,
  "supported_destination_sync_modes": ["append"],
  "connectionSpecification": {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Pulsar Destination Spec",
    "type": "object",
    "required": [
      "pulsar_brokers",
      "topic_pattern",
      "use_tls",
      "access_mode",
      "compression_type",
      "enable_batching",
      "batching_max_publish_delay",
      "batching_max_messages",
      "block_if_queue_full",
      "auto_update_partitions",
      "auto_update_partitions_interval"
    ],
    "additionalProperties": true,
    "properties": {
      "pulsar_brokers": {
        "title": "Pulsar brokers",
        "description": "A list of host/port pairs to use for establishing the initial connection to the Pulsar cluster.",
        "type": "string",
        "examples": ["pulsar-broker1:6500,pulsar-broker2:6500"]
      },
      "topic_pattern": {
        "title": "Topic pattern",
        "description": "Topic pattern in which the records will be sent. You can use patterns like '{namespace}' and/or '{stream}' to send the message to a specific topic based on these values. Notice that the topic name will be transformed to a standard naming convention.",
        "type": "string",
        "examples": ["sample.topic", "{namespace}.{stream}.sample"]
      },
      "test_topic": {
        "title": "Test topic",
        "description": "Topic to test if Airbyte can produce messages.",
        "type": "string",
        "examples": ["test.topic"]
      },
      "sync_producer": {
        "title": "Sync producer",
        "description": "Wait synchronously until the record has been sent to Pulsar.",
        "type": "boolean",
        "default": false
      },
      "use_tls": {
        "title": "Use TLS",
        "description": "Whether to use TLS encryption on the connection.",
        "type": "boolean",
        "default": false
      },
      "producer_name": {
        "title": "Producer name",
        "description": "Name for the producer. If not filled, the system will generate a globally unique name which can be accessed with.",
        "type": "string",
        "examples": ["airbyte-producer"]
      },
      "access_mode": {
        "title": "Access mode",
        "description": "The type of access to the topic that the producer requires.",
        "type": "string",
        "default": "Shared",
        "enum": ["Shared", "Exclusive", "WaitForExclusive"]
      },
      "compression_type": {
        "title": "Compression type",
        "description": "Compression type for the producer.",
        "type": "string",
        "default": "none",
        "enum": ["NONE", "LZ4", "ZLIB", "ZSTD", "SNAPPY"]
      },
      "enable_batching": {
        "title": "Enable batching",
        "description": "Control whether automatic batching of messages is enabled for the producer.",
        "type": "boolean",
        "default": true
      },
      "batching_max_publish_delay": {
        "title": "Batching max publish delay",
        "description": " Time period in milliseconds within which the messages sent will be batched.",
        "type": "integer",
        "default": 1
      },
      "batching_max_messages": {
        "title": "Batching max messages",
        "description": "Maximum number of messages permitted in a batch.",
        "type": "integer",
        "default": 1000
      },
      "block_if_queue_full": {
        "title": "Block if queue is full",
        "description": "If the send operation should block when the outgoing message queue is full.",
        "type": "boolean",
        "default": false
      },
      "auto_update_partitions": {
        "title": "Auto update partitions",
        "description": "If enabled, partitioned producer will automatically discover new partitions at runtime. This is only applied on partitioned topics.",
        "type": "boolean",
        "default": true
      },
      "auto_update_partitions_interval": {
        "title": "Auto update partitions interval",
        "description": "Interval of updating partitions in seconds. This only works if 'Auto update partitions' is enabled.",
        "type": "integer",
        "default": 60
      }
    }
  }
}
